{% extends 'base.html.twig' %}

{% block title %}Edit Biens
{% endblock %}

{% block body %}
	<div class="container">
		<h2 class="text-center m-5 text-white">MODIFIER LE BIEN</h2>
		{{form_start(form)}}
		<div class="formBorder border border-dark p-3 mx-auto w-50 mb-5">
			<div class="form-group">
				<label class="text-white" for="nom">Nom:</label>
				{{form_widget(form.noms)}}
			</div>
			<div class="form-row">
				<div class="form-group col-md-6">
					<label class="text-white" for="numero">Numéro:</label>
					{{ form_widget(form.Adresses.numeros) }}
				</div>
				<div class="form-group col-md-6">
					<label class="text-white" for="voie">Voie:</label>
					{{ form_widget(form.Adresses.voies) }}
				</div>
			</div>
			<div class="form-row">
				<div class="form-group col-md-6">
					<label class="text-white" for="cp">Code postal:</label>
					{{ form_widget(form.Adresses.cp) }}
				</div>
				<div class="form-group col-md-6">
					<label class="text-white" for="ville">Ville:</label>
					{{ form_widget(form.Adresses.villes) }}
				</div>
			</div>
			<div class="form-group">
				<label class="text-white" for="description">Description:</label>
				{{form_widget(form.descriptions, {'attr': {'rows': '6'}})}}
			</div>
			<div class="form-group">
				<label class="text-white" for="surface">Surface (m²):</label>
				{{form_widget(form.surfaces)}}
			</div>
			<div class="form-group">
				<label class="text-white" for="nbrPiece">Nombre de pièce:</label>
				{{form_widget(form.nbr_pieces)}}
			</div>
			<div class="form-group">
				<label class="text-white" for="nbrChambre">Nombre de chambre:</label>
				{{form_widget(form.nbr_chambres)}}
			</div>
			<div class="form-group">
				<label class="text-white" for="loyer">Loyer (€):</label>
				{{form_widget(form.loyers)}}
			</div>
			<div class="form-group">
				<label class="text-white mr-2">Statut:</label>
				{{form_widget(form.statuts)}}
			</div>
			<label class="text-white mr-2">Images:</label>
			<div class="form-group row">
				{% for image in bien.images %}
					<div class="col">
						<div class="text-center">
							<img src="{{ asset('assets/uploaded/' ~ image.noms) }}" class="border border_dark m-2" width="150">
						</div>
						<div
							class="text-center">
							{# On ajoute un lien permettant de supprimer une image (sera géré en Ajax) #}
                            {{ include('biens/_delete_image.html.twig') }}
							{# <a class="text-warning" href="{{ path('biens_delete_image', {id: image.id})}}" data-delete data-token="{{ csrf_token('delete' ~ image.id )}}">Supprimer</a> #}
						</div>
					</div>
				{% endfor %}
			</div>
            <div class="text-right">
				{{ form_widget(form.ajouter, {'label': 'MODIFIER', 'attr': {'class': 'btn btn-outline-light mt-4'}}) }}
			</div>
		</div>
		{{form_end(form)}}
		<div class="text-center mt-5 mb-5">
			<a href="{{ path('biens_show_admin', {'id': bien.id}) }}" class="btn btn-dark">← Retour au bien</a>
		</div>
	</div>


{% endblock %}
